<!DOCTYPE html>
<html lang="vi" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HIDAY PET · Admin Dashboard</title>
  <!-- Fonts & Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
  <!-- Single-file CSS (giữ nguyên ID để tương thích JS hiện có) -->
  <link rel="stylesheet" href="./styles/dashboard.css" />
</head>
<body data-page="dashboard">
  <div class="layout">
    <!-- Sidebar (self-contained thay cho data-include) -->
    <aside class="sidebar" id="sidebar" aria-label="Thanh điều hướng bên trái">
      <div class="brand"><i class="fas fa-dog" aria-hidden="true"></i> HIDAY PET</div>
      <nav>
        <ul class="menu" role="list">
          <li><a class="active" href="#"><i class="fas fa-th-large" aria-hidden="true"></i> Tổng quan</a></li>
          <li><a href="#"><i class="fas fa-paw" aria-hidden="true"></i> Thú cưng</a></li>
          <li><a href="#"><i class="fas fa-user-friends" aria-hidden="true"></i> Khách hàng</a></li>
          <li><a href="#"><i class="fas fa-notes-medical" aria-hidden="true"></i> Hồ sơ y tế</a></li>
          <li><a href="#"><i class="fas fa-box" aria-hidden="true"></i> Kho & sản phẩm</a></li>
          <li><a href="#"><i class="fas fa-cog" aria-hidden="true"></i> Cài đặt</a></li>
        </ul>
      </nav>
      <button class="logout" type="button"><i class="fas fa-sign-out-alt" aria-hidden="true"></i> Đăng xuất</button>
    </aside>

    <main class="main">
      <!-- Topbar -->
      <div class="topbar">
        <button class="icon-btn" id="btnSidebar" aria-label="Mở menu"><i class="fas fa-bars" aria-hidden="true"></i></button>
        <div class="crumb">Bảng điều khiển / <strong>Tổng quan</strong></div>
        <div class="grow"></div>
        <label class="search" aria-label="Tìm kiếm">
          <i class="fas fa-search" aria-hidden="true"></i>
          <input type="search" placeholder="Tìm nhanh…" autocomplete="off" />
        </label>
        <button class="icon-btn" id="btnTheme" title="Chuyển giao diện"><i class="fas fa-adjust" aria-hidden="true"></i></button>
        <button class="icon-btn" aria-label="Thông báo"><i class="far fa-bell" aria-hidden="true"></i></button>
        <button class="icon-btn" aria-label="Tài khoản"><i class="far fa-user" aria-hidden="true"></i></button>
      </div>

      <!-- =================== CONTENT =================== -->
      <div class="content">
        <!-- Title + Quick actions -->
        <header class="page-title" aria-label="Tiêu đề trang">
          <h2>Tổng quan</h2>
          <div class="quick-actions">
            <button class="ghost" id="btnAddPet"><i class="fas fa-plus"></i> Thêm thú cưng</button>
            <button class="primary" id="btnCreateAppt"><i class="fas fa-calendar-plus"></i> Tạo lịch hẹn</button>
          </div>
        </header>

        <!-- Stats cards (giữ nguyên ID để JS cập nhật) -->
        <section class="stats" aria-label="Chỉ số nhanh">
          <article class="card stat" role="status" aria-live="polite">
            <div class="icon"><i class="fas fa-paw" aria-hidden="true"></i></div>
            <div class="meta">
              <span class="value" id="stats-total-pets">…</span>
              <span class="label">Tổng số thú cưng</span>
            </div>
          </article>
          <article class="card stat" role="status" aria-live="polite">
            <div class="icon"><i class="fas fa-calendar-check" aria-hidden="true"></i></div>
            <div class="meta">
              <span class="value" id="stats-upcoming-events">…</span>
              <span class="label">Lịch hẹn (24h tới)</span>
            </div>
          </article>
          <article class="card stat" role="status" aria-live="polite">
            <div class="icon"><i class="fas fa-notes-medical" aria-hidden="true"></i></div>
            <div class="meta">
              <span class="value" id="stats-total-health-records">…</span>
              <span class="label">Tổng hồ sơ y tế</span>
            </div>
          </article>
          <article class="card stat" role="status" aria-live="polite">
            <div class="icon"><i class="fas fa-syringe" aria-hidden="true"></i></div>
            <div class="meta">
              <span class="value" id="stats-due-vaccinations">…</span>
              <span class="label">Tiêm chủng (30 ngày tới)</span>
            </div>
          </article>
        </section>

        <!-- Charts & Latest table -->
        <section class="grid">
          <!-- Species chart card -->
          <article class="card" aria-labelledby="species-title">
            <div class="card-head">
              <h3 id="species-title">Thống kê theo loài</h3>
              <span class="chip ghost" id="species-chip">Đợi dữ liệu…</span>
            </div>
            <div class="chart-wrap">
              <canvas id="species-chart" aria-label="Biểu đồ thống kê theo loài" role="img"></canvas>
            </div>
          </article>

          <!-- Latest pets table -->
          <article class="card" aria-labelledby="latest-title">
            <div class="card-head">
              <h3 id="latest-title">Thú cưng mới nhất</h3>
              <a class="chip ghost" href="#">Xem tất cả</a>
            </div>

            <!-- Empty state hiển thị đến khi có dữ liệu thật từ API -->
            <div id="latest-pets-empty" class="empty">Chưa có dữ liệu. Kết nối API để hiển thị danh sách.</div>

            <!-- Bảng: giữ nguyên ID để JS điều khiển show/hide -->
            <table class="table" aria-label="Bảng thú cưng mới" id="latest-pets-table-wrap" style="display:none">
              <thead>
                <tr>
                  <th>Tên</th>
                  <th>Loài</th>
                  <th>Chủ</th>
                </tr>
              </thead>
              <tbody id="latest-pets-table"></tbody>
            </table>
          </article>
          
          <!-- Low-stock widget -->
          <article class="card" aria-labelledby="lowstock-title">
            <div class="card-head">
              <h3 id="lowstock-title">Sản phẩm sắp hết hàng</h3>
              <span class="chip ghost">Cảnh báo</span>
            </div>
            <div id="low-stock-list" class="list"></div>
          </article>

          <!-- Upcoming events widget -->
          <article class="card" aria-labelledby="events-title">
            <div class="card-head">
              <h3 id="events-title">Lịch hẹn sắp tới</h3>
              <span class="chip ghost">24 giờ</span>
            </div>
            <div id="upcoming-events-list" class="list"></div>
          </article>

          <!-- Revenue widget -->
          <article class="card" aria-labelledby="revenue-title">
            <div class="card-head">
              <h3 id="revenue-title">Doanh thu (7 ngày)</h3>
              <span class="chip ghost">Tổng</span>
            </div>
            <div id="revenue-summary" class="list"></div>
          </article>
        </section>

        <footer class="footer">© <span id="year"></span> HIDAY PET · Trắng–Cam UI</footer>
      </div>
    </main>
  </div>

  <!-- ====== Scripts ====== -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Dashboard logic (fetches API and renders widgets) -->
  <script src="./scripts/dashboard.js"></script>
</body>
</html>
